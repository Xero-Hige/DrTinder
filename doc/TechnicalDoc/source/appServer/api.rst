.. _api:

API
===

*****
Login
*****

+------------+--------------------------------------------------------------+
| URL        | http://<server>/user                                         |
+------------+--------------------------------------------------------------+
| HTTP VERB  | POST                                                         |
+------------+--------------------------------------------------------------+
| PARAMETROS | **Headers**                                                  |
|            |                                                              |
|            | Authorization: username="mi_username" pass="mi_contraseña"   |
|            |                                                              |
|            | **Body**                                                     |
|            |                                                              |
|            | localization=0.125,1.25                                      |
+------------+--------------------------------------------------------------+
| RESPUESTA  | HTTP 200 | HTTP 401 (login incorrecto)                       |
+------------+--------------------------------------------------------------+

*************
Datos usuario
*************

+------------+-----------------------------------------------------------------------------------------------------+
| URL        | http://<server>/user                                                                           	   |
+------------+-----------------------------------------------------------------------------------------------------+
| HTTP VERB  | POST                                                                                                |
+------------+-----------------------------------------------------------------------------------------------------+
| PARAMETROS | **Url-params**                                                                                      |
|            |                                                                                                     |
|            | token="<mi_token>"&res_id="aaaaaa.com"                                                              |
+------------+-----------------------------------------------------------------------------------------------------+
| RESPUESTA  | “name","25","alias","aaa@aaa.com,"man","Me interesan la gente divertida","music::rock||food::meat"  |
+------------+-----------------------------------------------------------------------------------------------------+

***************
Foto de usuario
***************

+------------+-----------------------------------------+
| URL        | http://<server>/users/photo             |
+------------+-----------------------------------------+
| HTTP VERB  | GET                                     |
+------------+-----------------------------------------+
| PARAMETROS | **Url-params**                          |
|            |                                         |
|            | token="<mi_token>"&res_id="aaaaaa.com"  |
+------------+-----------------------------------------+
| RESPUESTA  | <photo_64>                              |
+------------+-----------------------------------------+

************
Cambiar foto
************

+------------+-----------------------------+
| URL        | http://<server>/users/photo |
+------------+-----------------------------+
| HTTP VERB  | POST                        |
+------------+-----------------------------+
| PARAMETROS | **Url-params**              |
|            |                             |
|            | token="<mi_token>"          |
+------------+-----------------------------+
| RESPUESTA  | HTTP 200                    |
+------------+-----------------------------+

**************
Nuevos matches
**************

+------------+-----------------------------------------------------------------------------------------------------------+
| URL        | http://<server>/users                                                                                     |
+------------+-----------------------------------------------------------------------------------------------------------+
| HTTP VERB  | GET                                                                                                       |
+------------+-----------------------------------------------------------------------------------------------------------+
| PARAMETROS | **Url-params**                                                                                            |
|            |                                                                                                           |
|            | token="<mi_token>"                                                                                        |
+------------+-----------------------------------------------------------------------------------------------------------+
| RESPUESTA  | “1",“name","25","alias","aaa@aaa.com","man","Me interesan la gente divertida","music::rock||food::meat"\n |
|            |                                                                                                           |
|            | “2",“name","25","alias","aaa@aaa.com","man","Me interesan la gente divertida","music::rock||food::meat"\n |
|            |                                                                                                           |
|            | “3",“name","25","alias","aaa@aaa.com","man","Me interesan la gente divertida","music::rock||food::meat"\n |
+------------+-----------------------------------------------------------------------------------------------------------+

******
SignUp
******

+------------+----------------------------------------------------------------------------------------------------------+
| URL        | http://<server>/users                                                                                    |
+------------+----------------------------------------------------------------------------------------------------------+
| HTTP VERB  | POST                                                                                                     |
+------------+----------------------------------------------------------------------------------------------------------+
| PARAMETROS | **Headers**                                                                                              |
|            |                                                                                                          |
|            | Authorization: username="mi_username" pass="mi_contraseña"                                               |
|            |                                                                                                          |
|            | **Body**                                                                                                 |
|            |                                                                                                          |
|            | User=“name","25","alias","aaa@aaa.com","man","Me interesan la gente divertida","music::rock||food::meat" |
+------------+----------------------------------------------------------------------------------------------------------+
| RESPUESTA  | HTTP 201                                                                                                 |
+------------+----------------------------------------------------------------------------------------------------------+

**************
Modificar Info
**************

+------------+---------------------------------------------------+
| URL        | http://<server>/users                             |
+------------+---------------------------------------------------+
| HTTP VERB  | PUT                                               |
+------------+---------------------------------------------------+
| PARAMETROS | **Url-Params**                                    |
|            |                                                   |
|            | token="<mi_token>"                                |
|            |                                                   |
|            | **Body**                                          |
|            |                                                   |
|            | User=“name","25","man","music::rock||food::meat"  | 
+------------+---------------------------------------------------+
| RESPUESTA  | HTTP 200                                          |
+------------+---------------------------------------------------+

***********
Delete user
***********

+------------+-----------------------+
| URL        | http://<server>/users |
+------------+-----------------------+
| HTTP VERB  | DELETE                |
+------------+-----------------------+
| PARAMETROS | **Url-Params**        |
|            |                       |
|            | token="<mi_token>"    |
+------------+-----------------------+
| RESPUESTA  | HTTP 200              |
+------------+-----------------------+

*******************
Matches concretados
*******************

+------------+-----------------------------------------------------------------------------------------------------------+
| URL        | http://<server>/chats                                                                                     |
+------------+-----------------------------------------------------------------------------------------------------------+
| HTTP VERB  | GET                                                                                                       |
+------------+-----------------------------------------------------------------------------------------------------------+
| PARAMETROS | **Url-Params**                                                                                            |
|            |                                                                                                           |
|            | token="<mi_token>"                                                                                        |
+------------+-----------------------------------------------------------------------------------------------------------+
| RESPUESTA  | “1",“name","25","alias","aaa@aaa.com","man","Me interesan la gente divertida","music::rock||food::meat"\n |
|            |                                                                                                           |
|            | “3",“name","25","alias","aaa@aaa.com","man","Me interesan la gente divertida","music::rock||food::meat"\n |
+------------+-----------------------------------------------------------------------------------------------------------+


*****************
Bad token Request
*****************

+------------+--------------------------+
| URL        | http://<server>/good/url |
+------------+--------------------------+
| HTTP VERB  | GET|PUT|POST|DELETE      |
+------------+--------------------------+
| PARAMETROS | **Headers**              |
|            |                          |
|            | Any                      |
|            |                          |
|            | **Body**                 |
|            |                          |
|            | Any                      |
|            |                          |
|            | **Url-params**           |
|            |                          |
|            | Any                      |
|            |                          |
|            | token="<bad_token>"      |
+------------+--------------------------+
| RESPUESTA  | HTTP 498                 |
+------------+--------------------------+

***************
Bad Url Request
***************

+------------+-------------------------+
| URL        | http://<server>/bad/url |
+------------+-------------------------+
| HTTP VERB  | GET|PUT|POST|DELETE     |
+------------+-------------------------+
| PARAMETROS | **Headers**             |
|            |                         |
|            | Any                     |
|            |                         |
|            | **Body**                |
|            |                         |
|            | Any                     |
|            |                         |
|            | **Url-params**          |
|            |                         |
|            | Any                     |
+------------+-------------------------+
| RESPUESTA  | HTTP 501                |
+------------+-------------------------+

